(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);var i=n(7),r=(n(37),n(0)),a=n.n(r),c=n(13),s=n(3),u=(n(32),n(6)),l=n(17),d=n(18),o=n(20),p=n(19),h=n(21),b=Object(s.b)({slice:"selectedSubreddit",initialState:"reactjs",cases:{selectSubreddit:function(e,t){return t}}}),f=b.actions.selectSubreddit,v=b.reducer,m=b.selectors,S=Object(s.b)({cases:{invalidateSub:function(e,t){e.didInvalidate=!0},requestSubPost:function(e,t){e.isFetching=!0,e.didInvalidate=!1},receiveSubPost:function(e,t){e.isFetching=!1,e.didInvalidate=!1,e.items=t.data.children.map(function(e){return e.data}),e.receivedAt=Date.now()}},initialState:{isFetching:!1,didInvalidate:!1,items:[],receivedAt:null}}),g=S.reducer,E=S.actions,j=E.invalidateSub,y=E.receiveSubPost,O=E.requestSubPost,w=S.selectors,k=Object(s.b)({slice:"postsBySubreddit",cases:{invalidateSubreddit:function(e,t,n){e[t]=g(e[t],j())},requestPosts:function(e,t){e[t]=g(e[t],O())},receivePosts:function(e,t){var n=Object(i.a)(t,2),r=n[0],a=n[1];e[r]=g(e[r],y(a))}},initialState:{}}),C=k.reducer,P=k.actions,F=P.requestPosts,I=P.receivePosts,D=P.invalidateSubreddit,q=k.selectors,A=function(e){return function(t,n){if(function(e,t){var n=e.postsBySubreddit[t];return!n||!n.isFetching&&n.didInvalidate}(n(),e))return t(function(e){return function(t){return t(F(e)),fetch("https://www.reddit.com/r/".concat(e,".json")).then(function(e){return e.json()}).then(function(n){return t(I([e,n]))})}}(e))}},B=function(e){var t=e.value,n=e.onChange,i=e.options;return a.a.createElement("span",null,a.a.createElement("h1",null,t),a.a.createElement("select",{onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return n(e.target.value)}),value:t},i.map(function(e){return a.a.createElement("option",{value:e,key:e},e)})))},L=function(e){var t=e.posts;return a.a.createElement("ul",null,t.map(function(e,t){return a.a.createElement("li",{key:t},e.title)}))},R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=Object(o.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.dispatch(f(e))},n.handleRefreshClick=function(e){e.preventDefault();var t=n.props,i=t.dispatch,r=t.selectedSubreddit;i(D(r)),i(A(r))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.selectedSubreddit;t(A(n))}},{key:"componentDidUpdate",value:function(e){if(e.selectedSubreddit!==this.props.selectedSubreddit){var t=this.props,n=t.dispatch,i=t.selectedSubreddit;n(A(i))}}},{key:"render",value:function(){var e=this.props,t=e.selectedSubreddit,n=e.posts,i=e.isFetching,r=e.lastUpdated,c=0===n.length;return a.a.createElement("div",null,a.a.createElement(B,{value:t,onChange:this.handleChange,options:["reactjs","frontend"]}),a.a.createElement("p",null,r&&a.a.createElement("span",null,"Last updated at ",new Date(r).toLocaleTimeString(),"."," "),!i&&a.a.createElement("button",{onClick:this.handleRefreshClick},"Refresh")),c?i?a.a.createElement("h2",null,"Loading..."):a.a.createElement("h2",null,"Empty."):a.a.createElement("div",{style:{opacity:i?.5:1}},a.a.createElement(L,{posts:n})))}}]),t}(r.Component),U=Object(u.b)(function(e){var t=m.getSlice(e),n=q.getSlice(e);return{selectedSubreddit:t,posts:w.items(n[t])||[],isFetching:w.isFetching(n[t]),lastUpdated:w.receivedAt(n[t])||null}})(R),J=Object(s.c)(),x=Object(s.a)({reducer:{postsBySubreddit:C,selectedSubreddit:v},middleware:J}),M=Object(i.a)(x,1)[0];Object(c.render)(a.a.createElement(u.a,{store:M},a.a.createElement(U,null)),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.568a2a7d.chunk.js.map